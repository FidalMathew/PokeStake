export default function once(f) {
    let result = undefined;
    return () => {
        if (!result) {
            try {
                result = { value: f() };
            }
            catch (error) {
                result = { error };
            }
            f = undefined;
        }
        if ('error' in result) {
            throw result.error;
        }
        return result.value;
    };
}
//# sourceMappingURL=once.js.map